<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.12.1/font/bootstrap-icons.min.css">
    <title>Choose a plan for API</title>
</head>
<body>
    <div class="main">
        <div>
            <h1>FREE</h1>

            <p>You can use API for free but with limits</p>

            <ul>
                <li><i class="bi bi-check2"></i>Daily limit: 100</li>
                <li><i class="bi bi-x icon-style"></i>Support</li>
                <li><i class="bi bi-check2"></i>Good if u wanna test</li>
            </ul>

            <h2>FOR FREE</h2>

            <button id="freeBtn">CONTIUNE <i class="bi bi-arrow-right-short"></i></button>
        </div>
        <div>
            <h1>NORMAL</h1>

            <p>You can use API with more opportunies</p>

            <ul>
                <li><i class="bi bi-check2"></i>Daily limit: 5,000</li>
                <li><i class="bi bi-check2"></i>Full support</li>
                <li><i class="bi bi-check2"></i>Good for small projects</li>
            </ul>

            <h2>$4 MONTHLY</h2>

            <button>CONTIUNE <i class="bi bi-arrow-right-short"></i></button>
        </div>
        <div>
            <h1>UNLIMITED</h1>

            <p>You can use API without any limits</p>

            <ul>
                <li><i class="bi bi-check2"></i>Daily limit: unlimited</li>
                <li><i class="bi bi-check2"></i>Full support</li>
                <li><i class="bi bi-check2"></i>Just enjoy</li>
            </ul>

            <h2>$10 MONTHLY</h2>

            <button>CONTIUNE <i class="bi bi-arrow-right-short"></i></button>
        </div>
    </div>

    <script>
        async function freePlan() {
            try {
                const token = localStorage.getItem('authToken');
                const response = await fetch(`http://localhost:3000/api/plan`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        authToken: authToken,
                        plan: 'free'
                    })
                });
                const data = await response.json();
            } catch(err) {
                console.error(err);
            }
        }

        document.getElementById('freeBtn').addEventListener('click', freePlan);
    </script>
</body>
</html>